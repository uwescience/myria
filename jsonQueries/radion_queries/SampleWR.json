{
    "logicalRa": "Nothing",
    "plan":
    {
        "type":"Sequence",
        "plans":
        [
            {
                "type":"SubQuery",
                "fragments":
                [
                    {
                        "operators":
                        [
                            {
                                "opType":"TableScan",
                                "opName":"MyriaScan(public:adhoc:TwitterNodes)",
                                "opId":0,
                                "relationKey":{
                                    "userName":"public",
                                    "programName":"adhoc",
                                    "relationName":"TwitterNodes"
                                }
                            },
                            {
                              "argChild": 0,
                              "opType":"SampleStream",
                              "opId":1,
                              "opName":"MyriaSampleStream",
                              "sampleSize":500000
                            },
                            {
                                "opType":"TempInsert",
                                "table":"TempSampleWR",
                                "argOverwriteTable": true,
                                "argChild":1,
                                "opId":2
                            }
                        ]
                    }
                ]
            },
            {
                "type":"SubQuery",
                "fragments":
                [
                    {
                        "operators":
                        [
                            {
                                "opType":"TempTableScan",
                                "opName":"TempTableScan(TwitterK)",
                                "table":"TempSampleWR",
                                "opId":3
                            },
                            {
                                "opType":"Apply",
                                "argChild":3,
                                "opId":4,
                                "opName":"MyriaApply(WorkerID=WORKERID)",
                                "emitExpressions":
                                [
                                    {
                                        "rootExpressionOperator":
                                        {
                                            "type":"WORKERID"
                                        },
                                        "outputName":"WorkerID"
                                    }
                                ]
                            },
                            {
                                "opName":"MyriaGroupBy($0; COUNTALL)",
                                "argGroupField":0,
                                "opType":"SingleGroupByAggregate",
                                "aggregators":[
                                    {
                                        "type":"CountAll"
                                    }],
                                    "argChild":4,
                                    "opId":5
                            },
                            {
                                "argChild":5,
                                "opId":6,
                                "opType": "CollectProducer"
                            }
                        ]
                    },
                    {
                        "operators":
                        [
                            {
                                "argOperatorId":6,
                                "opId":7,
                                "opType": "CollectConsumer"
                            },
                            {
                                "opName": "MyriaSamplingDistribution",
                                "opType": "SamplingDistribution",
                                "argChild": 7,
                                "opId": 8,
                                "sampleSize": 11316811,
                                "isWithoutReplacement": true,
                                "randomSeed":42
                            },
                            {
                                  "argChild":8,
                                  "opId":9,
                                  "argPf":{
                                     "index":0,
                                     "type":"RawValue"
                                  },
                                  "opType":"ShuffleProducer",
                                  "opName":"MyriaShuffleProducer($0)"
                            }
                        ]
                    },
                    {
                        "operators":
                        [
                            {
                              "opName":"MyriaShuffleConsumer",
                              "opType":"ShuffleConsumer",
                              "argOperatorId":9,
                              "opId":10
                            },
                            {
                                "opType":"TempTableScan",
                                "table":"TempSampleWR",
                                "opName":"MyriaScanTemp(TempSampleWR)",
                                "opId":11
                            },
                            {
                              "argChild1": 10,
                              "argChild2": 11,
                              "opType":"SampleWR",
                              "opId":12,
                              "opName":"MyriaSampleWR",
                              "randomSeed":42
                            },
                            {
                                "opType": "DbInsert",
                                "argOverwriteTable": true,
                                "argChild": 12,
                                "relationKey":
                                {
                                    "programName": "adhoc",
                                    "relationName": "SampledWR",
                                    "userName": "public"
                                },
                                "opId": 13
                            }
                        ]
                    }
                ]
            }
        ]
    },
    "rawQuery": "SampleWR"
}
